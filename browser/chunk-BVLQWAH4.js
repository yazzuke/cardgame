import{a as z}from"./chunk-WBUB4ND5.js";import{a as j}from"./chunk-MFZETDTK.js";import{A as B,B as J,C as U,D as V,i as R,q as P,r as I,t as O,u as H,v as F,w as $,x as L,y as k,z as q}from"./chunk-AMT74OIL.js";import"./chunk-AMAF2MAF.js";import"./chunk-RGNDWIHZ.js";import{Db as w,Fb as f,Pb as a,Qb as p,Rb as D,Vb as v,Yb as u,Za as r,Zb as S,_a as E,d as h,ha as b,hb as m,jb as C,ma as x,na as g,ob as T,tb as n,ub as o,vb as _,wb as c,wc as y,xb as d,zb as M}from"./chunk-5TXZLY6E.js";function G(e,t){e&1&&(n(0,"th",14),a(1,"Posicion"),o())}function K(e,t){if(e&1&&(n(0,"td",15),a(1),o()),e&2){let i=t.index;r(),p(i+1)}}function N(e,t){e&1&&(n(0,"th",14),a(1,"Fecha"),o())}function Q(e,t){if(e&1&&(n(0,"td",15),a(1),u(2,"date"),o()),e&2){let i=t.$implicit;r(),p(S(2,1,i.timestamp))}}function W(e,t){e&1&&(n(0,"th",14),a(1,"Jugador/Equipo"),o())}function X(e,t){if(e&1&&(n(0,"td",15),a(1),o()),e&2){let i=t.$implicit;r(),p(i.username)}}function Y(e,t){e&1&&(n(0,"th",14),a(1,"Respuestas Correctas"),o())}function Z(e,t){if(e&1&&(n(0,"td",15),a(1),o()),e&2){let i=t.$implicit;r(),p(i.goodChoices)}}function ee(e,t){e&1&&(n(0,"th",14),a(1,"Respuestas Incorrectas"),o())}function te(e,t){if(e&1&&(n(0,"td",15),a(1),o()),e&2){let i=t.$implicit;r(),p(i.wrongChoices)}}function ne(e,t){e&1&&(n(0,"th",14),a(1,"Tiempo"),o())}function ie(e,t){if(e&1&&(n(0,"td",15),a(1),u(2,"countdown"),o()),e&2){let i=t.$implicit;r(),D(" ",S(2,1,i.resolutionTime)," ")}}function oe(e,t){e&1&&_(0,"tr",16)}function ae(e,t){e&1&&_(0,"tr",17)}function re(e,t){if(e&1){let i=M();n(0,"section",1)(1,"button",2),w("click",function(){x(i);let s=f();return g(s.refreshScoreboard())}),n(2,"mat-icon"),a(3,"refresh"),o()(),n(4,"h1")(5,"b"),a(6," Scoreboard "),_(7,"br"),a(8," los mejores fueron... "),o()(),n(9,"table",3),c(10,4),m(11,G,2,0,"th",5)(12,K,2,1,"td",6),d(),c(13,7),m(14,N,2,0,"th",5)(15,Q,3,3,"td",6),d(),c(16,8),m(17,W,2,0,"th",5)(18,X,2,1,"td",6),d(),c(19,9),m(20,Y,2,0,"th",5)(21,Z,2,1,"td",6),d(),c(22,10),m(23,ee,2,0,"th",5)(24,te,2,1,"td",6),d(),c(25,11),m(26,ne,2,0,"th",5)(27,ie,3,3,"td",6),d(),m(28,oe,1,0,"tr",12)(29,ae,1,0,"tr",13),o()()}if(e&2){let i=f();r(9),C("dataSource",i.scoreboard),r(19),C("matHeaderRowDef",i.displayedColumns),r(),C("matRowDefColumns",i.displayedColumns)}}function me(e,t){e&1&&(n(0,"section",18),_(1,"mat-spinner"),o())}var Se=(()=>{let t=class t{constructor(l){this.coreServer=l,this.displayedColumns=["Posicion","Fecha","Jugador/Equipo","Respuestas Correctas","Respuestas Incorrectas","Tiempo"],this.scoreboard=[],this.isLoaded=!1}initUsersScoreboard(){return h(this,null,function*(){let l=yield this.coreServer.getScoreboard();l.status>=200&&l.status<=299&&setTimeout(()=>{this.scoreboard=l.body,this.isLoaded=!0},1e3)})}refreshScoreboard(){this.isLoaded=!1,this.initUsersScoreboard()}ngOnInit(){this.initUsersScoreboard()}};t.\u0275fac=function(s){return new(s||t)(E(j))},t.\u0275cmp=b({type:t,selectors:[["app-scoreboard"]],standalone:!0,features:[v],decls:2,vars:1,consts:[["class","section"],[1,"section"],["mat-fab","","color","primary",1,"section__refresh--btn",3,"click"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","Posicion"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","Fecha"],["matColumnDef","Jugador/Equipo"],["matColumnDef","Respuestas Correctas"],["matColumnDef","Respuestas Incorrectas"],["matColumnDef","Tiempo"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row",""],[1,"loader"]],template:function(s,A){s&1&&m(0,re,30,3,"section",0)(1,me,2,0),s&2&&T(0,A.isLoaded?0:1)},dependencies:[V,R,P,I,O,F,q,$,H,B,L,k,J,U,y,z],styles:[".section[_ngcontent-%COMP%]{position:relative;display:grid;gap:1rem;text-align:center;margin:1.2rem 5%}.section[_ngcontent-%COMP%]   .section__refresh--btn[_ngcontent-%COMP%]{position:absolute;right:50px;top:20px}.section[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin-bottom:1rem}table[_ngcontent-%COMP%]{width:100%}.loader[_ngcontent-%COMP%]{display:grid;place-content:center;height:100%}"]});let e=t;return e})();export{Se as ScoreboardComponent};
